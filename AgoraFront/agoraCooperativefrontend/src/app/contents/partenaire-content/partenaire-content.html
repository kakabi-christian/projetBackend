<div class="partenaire-container py-5">
  <div class="container-fluid px-md-5">
    
    <!-- En-tête de section -->
    <div class="row justify-content-center mb-5">
      <div class="col-lg-8 text-center">
        <h2 class="fw-bold display-4">NOS <span class="text-success-custom">PARTENAIRES</span></h2>
        <div class="underline-custom mx-auto mb-4"></div>
        <p class="lead text-secondary fs-4">
          La force de notre coopérative réside dans les alliances solides que nous bâtissons. 
          Grâce au soutien de nos partenaires institutionnels, techniques et financiers, 
          nous transformons durablement le quotidien de nos membres et boostons l'excellence agricole.
        </p>
      </div>
    </div>

    <!-- Loader -->
    <div *ngIf="loading" class="text-center my-5">
      <div class="spinner-border text-success-custom" role="status" style="width: 4rem; height: 4rem;">
        <span class="visually-hidden">Chargement...</span>
      </div>
    </div>

    <!-- Grille des partenaires -->
    <div class="row g-4 justify-content-center mb-5" *ngIf="!loading">
      <div class="col-12 col-md-6 col-lg-4" *ngFor="let p of partenaires">
        <div class="partner-card card h-60 border-0" style="width: 400px;">
          <div class="card-body d-flex flex-column align-items-center justify-content-center p-4">
            <div class="img-wrapper d-flex align-items-center justify-content-center">
              <img [src]="'http://127.0.0.1:8000/' + p.logo_url" 
                   [alt]="p.nom" 
                   class="partner-logo">
            </div>
            <div class="text-center mt-4">
              <h4 class="fw-bold mb-2">{{ p.nom }}</h4>
              <span class="badge rounded-pill bg-light text-success-custom border border-success px-3 py-2">{{ p.type }}</span>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Section Pourquoi devenir partenaire -->
    <div class="row mt-5 pt-5 align-items-center bg-light rounded-5 p-4 p-md-5 mx-1" *ngIf="!loading">
      <div class="col-md-7 mb-4 mb-md-0">
        <h3 class="fw-bold mb-4 display-6">Pourquoi devenir <span class="text-success-custom">Partenaire</span> ?</h3>
        
        <div class="row mb-4">
          <div class="col-sm-6 mb-3">
            <div class="d-flex align-items-center">
              <i class="bi bi-patch-check-fill text-success-custom fs-3 me-3"></i>
              <div>
                <span class="fw-bold d-block">Impact Social Direct</span>
                <small class="text-secondary">Améliorez les revenus des producteurs</small>
              </div>
            </div>
          </div>
          <div class="col-sm-6 mb-3">
            <div class="d-flex align-items-center">
              <i class="bi bi-graph-up-arrow text-success-custom fs-3 me-3"></i>
              <div>
                <span class="fw-bold d-block">Visibilité Accrue</span>
                <small class="text-secondary">Associez-vous à une coopérative éthique</small>
              </div>
            </div>
          </div>
          <div class="col-sm-6 mb-3">
            <div class="d-flex align-items-center">
              <i class="bi bi-lightbulb-fill text-success-custom fs-3 me-3"></i>
              <div>
                <span class="fw-bold d-block">Innovation Durable</span>
                <small class="text-secondary">Projets agricoles technologiques</small>
              </div>
            </div>
          </div>
          <div class="col-sm-6 mb-3">
            <div class="d-flex align-items-center">
              <i class="bi bi-people-fill text-success-custom fs-3 me-3"></i>
              <div>
                <span class="fw-bold d-block">Réseau Solide</span>
                <small class="text-secondary">Collaboration à fort impact</small>
              </div>
            </div>
          </div>
        </div>
        
        <button class="btn btn-success-custom btn-lg shadow mt-3 px-5 py-3">
          <i class="bi bi-envelope-fill me-2"></i>Nous contacter maintenant
        </button>
      </div>

      <div class="col-md-5">
        <div class="quote-card p-4 p-md-5 rounded-4 text-white shadow-lg position-relative">
          <i class="bi bi-quote fs-1 opacity-25 position-absolute" style="top: 15px; left: 20px;"></i>
          <p class="fst-italic fs-5 mb-4 mt-3 position-relative" style="z-index: 2;">
            Le partenariat n'est pas qu'une signature, c'est une vision partagée pour un avenir où l'homme nourrit l'homme et respecte le monde.
          </p>
          <div class="d-flex align-items-center position-relative" style="z-index: 2;">
            <div style="width: 3px; height: 40px; background-color: #28a745;" class="me-3"></div>
            <small class="fw-bold text-uppercase" style="letter-spacing: 1px;">Direction du Développement<br/>AGORA</small>
          </div>
        </div>
      </div>
    </div>

  </div>
</div>

<style>
/* Couleurs personnalisées */
.text-success-custom { 
  color: #28a745; 
}

.btn-success-custom { 
  background-color: #28a745; 
  color: white; 
  border-radius: 50px; 
  transition: all 0.3s ease;
  border: none;
}

.btn-success-custom:hover { 
  background-color: #218838; 
  transform: translateY(-3px);
  box-shadow: 0 8px 20px rgba(40, 167, 69, 0.4) !important;
}

/* Container principal */
.partenaire-container {
  background-color: #f8f9fa;
}

/* Soulignement sous le titre */
.underline-custom {
  width: 80px;
  height: 5px;
  background: #28a745;
  border-radius: 10px;
}

/* Carte Partenaire */
.partner-card {
  background: #ffffff;
  border-radius: 20px;
  transition: all 0.4s ease;
  box-shadow: 0 10px 30px rgba(0,0,0,0.05) !important;
  border-bottom: 3px solid transparent !important;
}

.partner-card:hover {
  transform: translateY(-10px);
  box-shadow: 0 15px 40px rgba(0,0,0,0.12) !important;
  border-bottom: 3px solid #28a745 !important;
}

/* Gestion de l'image (Logo) */
.img-wrapper {
  width: 100%;
  height: 180px;
  overflow: hidden;
  display: flex;
  align-items: center;
  justify-content: center;
}

.partner-logo {
  max-width: 100%;
  max-height: 140px;
  object-fit: contain;
  filter: grayscale(20%);
  transition: all 0.3s ease;
}

.partner-card:hover .partner-logo {
  filter: grayscale(0%);
  transform: scale(1.1);
}

/* Carte de citation */
.quote-card {
  background: linear-gradient( #28a745 100%);
  border: none;
  overflow: hidden;
}

.quote-card::before {
  content: '';
  position: absolute;
  top: -50px;
  right: -50px;
  width: 150px;
  height: 150px;
  background: radial-gradient(circle, rgba(40, 167, 69, 0.2) 0%, transparent 70%);
  border-radius: 50%;
}

/* Spinner */
.spinner-border.text-success-custom {
  color: #28a745 !important;
  border-color: #28a745;
  border-right-color: transparent;
}

/* Badge type partenaire */
.badge.border-success {
  border-color: #28a745 !important;
}

/* Section bg-light personnalisée */
.bg-light {
  background-color: #f8f9fa !important;
}
</style>