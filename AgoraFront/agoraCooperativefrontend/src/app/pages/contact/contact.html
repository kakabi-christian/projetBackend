<div class="contact-page">
  <div class="success-overlay" *ngIf="showSuccessToast">
    <div class="success-toast">
      <div class="success-icon">✓</div>
      <div class="success-content">
        <h3>Message envoyé !</h3>
        <p>Nous reviendrons vers vous sous peu.</p>
      </div>
      <div class="progress-bar"></div>
    </div>
  </div>

  <div class="contact-container">

    <div class="contact-info">
      <span class="badge">Nous sommes à votre écoute</span>
      <h1>Parlons de vos <br><span class="highlight">projets coopératifs</span></h1>
      <p class="description">
        Que vous soyez un membre souhaitant rejoindre la coopérative, un porteur de projet
        ou un partenaire potentiel, notre équipe est là pour vous accompagner dans votre démarche collaborative.
      </p>

      <div class="info-items">
        <div class="info-item">
          <div class="icon-box"><i class="bi bi-geo-alt-fill"></i></div>
          <div>
            <h3>Siège Social</h3>
            <p>Douala, Littoral, Cameroun</p>
          </div>
        </div>

        <div class="info-item">
          <div class="icon-box"><i class="bi bi-telephone-fill"></i></div>
          <div>
            <h3>Appelez-nous</h3>
            <p>+237 6XX XX XX XX</p>
          </div>
        </div>

        <div class="info-item">
          <div class="icon-box"><i class="bi bi-clock-fill"></i></div>
          <div>
            <h3>Nos Horaires</h3>
            <p>Lun - Ven: 08h00 - 17h00</p>
          </div>
        </div>
      </div>

      <div class="info-highlight">
        <div class="highlight-icon"><i class="bi bi-lightbulb-fill"></i></div>
        <div>
          <h4>Rejoignez notre communauté</h4>
          <p>Plus de 850 membres actifs collaborent déjà au sein d'Agora Coopérative pour construire ensemble des
            projets solidaires et durables.</p>
        </div>
      </div>
    </div>

    <div class="contact-card">
      <div *ngIf="errorMessage" class="alert alert-danger">
        <strong>Erreur :</strong> {{ errorMessage }}
      </div>

      <form [formGroup]="contactForm" (ngSubmit)="onSubmit()" class="agora-form">
        <div class="form-grid">
          <div class="form-group">
            <label>Nom complet *</label>
            <input type="text" formControlName="nom_expediteur" placeholder="Votre nom et prénom"
              [class.is-invalid]="contactForm.get('nom_expediteur')?.invalid && contactForm.get('nom_expediteur')?.touched">
          </div>

          <div class="form-group">
            <label>Email *</label>
            <input type="email" formControlName="email_expediteur" placeholder="votre.email@exemple.com"
              [class.is-invalid]="contactForm.get('email_expediteur')?.invalid && contactForm.get('email_expediteur')?.touched">
          </div>

          <div class="form-group">
            <label>Téléphone</label>
            <input type="text" formControlName="telephone" placeholder="+237 6XX XX XX XX">
          </div>

          <div class="form-group">
            <label>Type de demande *</label>
            <select formControlName="type_demande"
              [class.is-invalid]="contactForm.get('type_demande')?.invalid && contactForm.get('type_demande')?.touched">
              <option value="" disabled selected>Choisir une option</option>
              <option value="adhesion">Demande d'adhésion</option>
              <option value="information">Informations générales</option>
              <option value="projet">Proposition de projet</option>
              <option value="partenariat">Partenariat coopératif</option>
              <option value="support">Support technique</option>
              <option value="autre">Autre demande</option>
            </select>
          </div>
        </div>

        <div class="form-group">
          <label>Sujet *</label>
          <input type="text" formControlName="sujet" placeholder="Résumez l'objet de votre message"
            [class.is-invalid]="contactForm.get('sujet')?.invalid && contactForm.get('sujet')?.touched">
        </div>

        <div class="form-group">
          <label>Votre message *</label>
          <textarea formControlName="message" rows="5"
            placeholder="Décrivez votre demande ou votre projet coopératif..."
            [class.is-invalid]="contactForm.get('message')?.invalid && contactForm.get('message')?.touched"></textarea>
        </div>

        <div class="form-footer">
          <p class="privacy-note">
            <span class="icon"><i class="bi bi-lock-fill"></i></span>
            Vos informations sont protégées et utilisées uniquement dans le cadre de votre demande.
          </p>
        </div>

        <button type="submit" [disabled]="contactForm.invalid || isSubmitting" class="btn-submit">
          <span *ngIf="!isSubmitting">
            <span class="icon"><i class="bi bi-send-fill"></i></span>
            Envoyer le message
          </span>
          <span *ngIf="isSubmitting" class="loader-text">
            <span class="spinner"></span>
            Envoi en cours...
          </span>
        </button>
      </form>
    </div>
  </div>
</div>